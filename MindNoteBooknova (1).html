<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!DOCTYPE html>
    <html lang="fa" dir="rtl">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù†ÙÙˆØ§ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link
          rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <style>
          :root {
            --bg: #fce4ec;
            --text: #333;
            --card: rgba(255, 255, 255, 0.7);
            --btn: #f06292;
            --accent: #ec407a;
          }
          body {
            margin: 0;
            font-family: Tahoma;
            background: var(--bg);
            color: var(--text);
            transition: 0.3s;
          }
          .page {
            display: none;
            padding: 20px;
            animation: fadeIn 0.5s;
          }
          .active {
            display: block;
          }
          @keyframes fadeIn {
            from {
              opacity: 0;
            }
            to {
              opacity: 1;
            }
          }
          nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            padding: 10px;
            background: #f8bbd0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid var(--accent);
          }
          nav button,
          select {
            cursor: pointer;
            border: none;
            border-radius: 8px;
            padding: 6px 12px;
            font-size: 16px;
            transition: 0.2s;
          }
          nav button:hover {
            background: rgba(236, 64, 122, 0.3);
          }
          .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
          }
          .card {
            background: var(--card);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            text-align: center;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
          }
          .btn {
            padding: 10px;
            background: var(--btn);
            color: white;
            border: none;
            margin: 5px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.2s;
          }
          .btn:hover {
            opacity: 0.85;
          }
          .item {
            background: rgba(255, 255, 255, 0.5);
            padding: 10px 12px;
            border-radius: 10px;
            margin-top: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: 0.2s;
          }
          .item.done {
            text-decoration: line-through;
            opacity: 0.6;
          }
          .modal-bg {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            justify-content: center;
            align-items: center;
            z-index: 200;
          }
          .modal {
            background: #f8bbd0;
            padding: 20px;
            width: 320px;
            border-radius: 15px;
            animation: popIn 0.3s;
          }
          @keyframes popIn {
            from {
              transform: scale(0.8);
              opacity: 0;
            }
            to {
              transform: scale(1);
              opacity: 1;
            }
          }
          input,
          select {
            width: 100%;
            padding: 10px;
            border-radius: 10px;
            border: none;
            margin-top: 10px;
            font-size: 16px;
          }
          #calendarContainer {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-top: 10px;
          }
          .day {
            padding: 10px;
            border: 1px solid rgba(236, 64, 122, 0.5);
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            position: relative;
            transition: 0.2s;
          }
          .day.has-item {
            background: var(--accent);
            color: white;
          }
          .day:hover {
            opacity: 0.8;
            transform: scale(1.05);
          }
          .day::after {
            content: "â—";
            color: white;
            position: absolute;
            bottom: 4px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
          }
          #themePreview {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            vertical-align: middle;
            border: 2px solid #333;
          }
          canvas {
            background: white;
            border-radius: 12px;
            padding: 10px;
            margin-top: 20px;
          }
          @media (max-width: 600px) {
            .grid {
              grid-template-columns: 1fr;
            }
          }
          #headerTop {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
          }
        </style>
      </head>
      <body>
        <nav id="mainNav">
          <button onclick="showPage('dashboard')">
            <i class="fas fa-home"></i> Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
          </button>
          <button onclick="showPage('habits')">
            <i class="fas fa-list"></i> Ø¹Ø§Ø¯Øªâ€ŒÙ‡Ø§
          </button>
          <button onclick="showPage('tasks')">
            <i class="fas fa-tasks"></i> Ú©Ø§Ø±Ù‡Ø§
          </button>
          <button onclick="showPage('challenges')">
            <i class="fas fa-bolt"></i> Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§
          </button>
          <button onclick="showPage('goals')">
            <i class="fas fa-bullseye"></i> Ø§Ù‡Ø¯Ø§Ù
          </button>
          <button onclick="showPage('meditation')">
            <i class="fas fa-spa"></i> Ù…Ø¯ÛŒØªÛŒØ´Ù†
          </button>
          <select id="themeSelector" onchange="changeTheme()">
            <option value="rose">Ø±Ø²</option>
            <option value="green">Ø³Ø¨Ø² Ø±ÙˆØ´Ù†</option>
            <option value="purple">ÛŒØ§Ø³ÛŒ</option>
            <option value="peach">Ù‡Ù„ÙˆÛŒÛŒ</option>
            <option value="lavender">Ø§Ø³Ø·ÙˆØ®ÙˆØ¯ÙˆØ³</option>
            <option value="mint">Ù†Ø¹Ù†Ø§ÛŒÛŒ</option>
            <option value="coral">Ù…Ø±Ø¬Ø§Ù†ÛŒ</option>
            <option value="sunset">Ù†Ø§Ø±Ù†Ø¬ÛŒ-ØµÙˆØ±ØªÛŒ</option>
            <option value="cream">Ú©Ø±Ù… Ø±ÙˆØ´Ù†</option>
            <option value="silver">Ù†Ù‚Ø±Ù‡ Ø§ÛŒ</option>
            <option value="blue">Ø§Ø¨ÛŒ Ø±ÙˆØ´Ù†</option>
            <option value="navy">Ø§Ø¨ÛŒ Ú©Ø§Ø±Ø¨Ù†ÛŒ</option>
            <option value="teal">Ø§Ø¨ÛŒ ÙÛŒØ±ÙˆØ²Ù‡ Ø§ÛŒ</option>
          </select>
          <span id="themePreview"></span>
        </nav>

        <!-- Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
        <div id="dashboard" class="page active">
          <div class="card">
            ğŸ”— <a href="#" onclick="showPage('about')">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a>
          </div>
          <div class="card">
            ğŸ”— <a href="#" onclick="showPage('contact us')">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</a>
          </div>
          <div id="headerTop">
            <div>
              <h2>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</h2>
              <div id="clock">00:00:00 AM</div>
              <div id="currentDate">ØªØ§Ø±ÛŒØ®: 1402/01/01</div>
            </div>
          </div>
          <div class="card" id="quoteCard">
            âœ¨ Ø¬Ù…Ù„Ù‡ Ø§Ù†Ú¯ÛŒØ²Ø´ÛŒ Ø±ÙˆØ²: <span id="dailyQuote"></span>
          </div>
          <div class="grid">
            <div class="card">
              ØªØ¹Ø¯Ø§Ø¯ Ø¹Ø§Ø¯Øªâ€ŒÙ‡Ø§: <span id="habitCount">0</span>
            </div>
            <div class="card">Ú©Ø§Ø±Ù‡Ø§: <span id="taskCount">0</span></div>
            <div class="card">Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§: <span id="challengeCount">0</span></div>
            <div class="card">Ø§Ù‡Ø¯Ø§Ù: <span id="goalCount">0</span></div>
          </div>
          <canvas id="progressChart"></canvas>
          <canvas id="dailyChart"></canvas>
        </div>
        <!-- Ø¹Ø§Ø¯Øªâ€ŒÙ‡Ø§ -->
        <div id="habits" class="page">
          <h2>Ø¹Ø§Ø¯Øªâ€ŒÙ‡Ø§</h2>
          <button class="btn" onclick="openModal('habit')">
            â• Ø§ÙØ²ÙˆØ¯Ù† Ø¹Ø§Ø¯Øª
          </button>
          <div id="habitList"></div>
        </div>

        <!-- Ú©Ø§Ø±Ù‡Ø§ -->
        <div id="tasks" class="page">
          <h2>Ú©Ø§Ø±Ù‡Ø§</h2>
          <button class="btn" onclick="openModal('task')">â• Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±</button>
          <div id="taskList"></div>
          <div style="margin-top: 10px">
            <button class="btn" onclick="startTaskTimer()">
              Ø´Ø±ÙˆØ¹ ØªØ§ÛŒÙ…Ø± Ú©Ø§Ø±
            </button>
            <button
              class="btn"
              style="background: #888"
              onclick="pauseTaskTimer()"
            >
              ØªÙˆÙ‚Ù
            </button>
            <button
              class="btn"
              style="background: #555"
              onclick="resumeTaskTimer()"
            >
              Ø§Ø¯Ø§Ù…Ù‡
            </button>
            <button
              class="btn"
              style="background: #aaa"
              onclick="resetTaskTimer()"
            >
              Ø±ÛŒØ³Øª
            </button>
            <div id="taskTimerDisplay">00:00:00</div>
          </div>
        </div>

        <!-- Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ -->
        <div id="challenges" class="page">
          <h2>Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§</h2>
          <button class="btn" onclick="openModal('challenge')">
            â• Ø§ÙØ²ÙˆØ¯Ù† Ú†Ø§Ù„Ø´
          </button>
          <div id="challengeList"></div>
        </div>

        <!-- Ø§Ù‡Ø¯Ø§Ù -->
        <div id="goals" class="page">
          <h2>Ø§Ù‡Ø¯Ø§Ù</h2>
          <button class="btn" onclick="openModal('goal')">â• Ø§ÙØ²ÙˆØ¯Ù† Ù‡Ø¯Ù</button>
          <div id="goalList"></div>
        </div>

        <!-- Ù…Ø¯ÛŒØªÛŒØ´Ù† -->
        <div id="meditation" class="page">
          <h2>Ù…Ø¯ÛŒØªÛŒØ´Ù†</h2>
          <label
            >Ù…Ø¯Øª Ø²Ù…Ø§Ù† (Ø¯Ù‚ÛŒÙ‚Ù‡):
            <input type="number" id="medTime" placeholder="Ù…Ø«Ù„Ø§Ù‹ 10" />
          </label>
          <label
            >ØµØ¯Ø§ÛŒ Ø·Ø¨ÛŒØ¹Øª:
            <select id="medSound">
              <option value="forest">Ø¬Ù†Ú¯Ù„</option>
              <option value="rain">Ø¨Ø§Ø±Ø§Ù†</option>
              <option value="sea">Ø¯Ø±ÛŒØ§</option>
              <option value="autumn">Ù¾Ø§ÛŒÛŒØ²</option>
            </select>
          </label>
          <div style="margin-top: 10px">
            <button class="btn" onclick="startMeditation()">Ø´Ø±ÙˆØ¹</button>
            <button
              class="btn"
              style="background: #888"
              onclick="pauseMeditation()"
            >
              ØªÙˆÙ‚Ù
            </button>
            <button
              class="btn"
              style="background: #555"
              onclick="resumeMeditation()"
            >
              Ø§Ø¯Ø§Ù…Ù‡
            </button>
            <button
              class="btn"
              style="background: #aaa"
              onclick="resetMeditation()"
            >
              Ø±ÛŒØ³Øª
            </button>
            <div id="medTimerDisplay">00:00:00</div>
            <div id="medStatus"></div>
          </div>
        </div>

        <!-- Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§ -->
        <div id="about" class="page">
          <h2>ğŸŒ™Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</h2>
          <p>
            Ø³Ø§ÛŒØª Ù†ÙÙˆØ§ ÛŒÚ© Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ú©Ø§Ù…Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯
            Ø¹Ø§Ø¯Øªâ€ŒÙ‡Ø§ØŒ Ú©Ø§Ø±Ù‡Ø§ØŒ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ Ùˆ Ø§Ù‡Ø¯Ø§Ù Ø®ÙˆØ¯ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯ØŒ Ù¾ÛŒØ´Ø±ÙØª Ø®ÙˆØ¯ Ø±Ø§
            Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯ Ùˆ Ø²Ù†Ø¯Ú¯ÛŒ Ø±ÙˆØ²Ù…Ø±Ù‡ Ø±Ø§ Ø¨Ù‡ØªØ± Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ú©Ù†ÛŒØ¯. ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø±Ù†Ú¯ÛŒ
            Ù¾Ø§Ø³ØªÙ„ÛŒ Ø¨Ø§Ø¹Ø« Ø²ÛŒØ¨Ø§ÛŒÛŒ Ùˆ Ø¢Ø±Ø§Ù…Ø´ Ø¨ÛŒØ´ØªØ± Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ğŸ–‹ï¸ğŸ’­
          </p>
        </div>
        <!-- Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ -->
        <div id="contact us" class="page">
          <h2>Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ø§</h2>
          <p>
            Ø§ÛŒÙ…ÛŒÙ„ ğŸ“§
            <a href="mailto:esmaeilzibaei55@gmail.com">
              esmaeilzibaei55@gmail.com
            </a>
          </p>

          <p>
            ØªÙ„ÙÙ† ğŸ“
            <a href="tel:09371237083"> 09371237083 </a>
          </p>

          <p>
            ØªÙ„Ú¯Ø±Ø§Ù… âœˆï¸
            <a href="https://t.me/LunarSpecter9"> @LunarSpecter9 </a>
          </p>
        </div>

        <!-- Ù…ÙˆØ¯Ø§Ù„ -->
        <div id="modalBg" class="modal-bg">
          <div class="modal">
            <h3 id="modalTitle"></h3>
            <input id="modalInput" placeholder="Ù…ØªÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯..." />
            <button class="btn" onclick="saveItem()">Ø°Ø®ÛŒØ±Ù‡</button>
            <button class="btn" style="background: #555" onclick="closeModal()">
              Ø¨Ø³ØªÙ†
            </button>
          </div>
        </div>

        <script>
          // ===== ØªÙ…â€ŒÙ‡Ø§ =====

          const themes = {
            rose: {
              bg: "#fce4ec",
              text: "#333",
              card: "rgba(255,255,255,0.7)",
              btn: "#f06292",
              accent: "#ec407a",
            },
            green: {
              bg: "#e8f5e9",
              text: "#333",
              card: "rgba(255,255,255,0.7)",
              btn: "#81c784",
              accent: "#4caf50",
            },
            purple: {
              bg: "#f3e5f5",
              text: "#333",
              card: "rgba(255,255,255,0.7)",
              btn: "#ba68c8",
              accent: "#9c27b0",
            },
            peach: {
              bg: "#fff3e0",
              text: "#333",
              card: "rgba(255,255,255,0.7)",
              btn: "#ffb74d",
              accent: "#ffa726",
            },
            lavender: {
              bg: "#f3e5f5",
              text: "#333",
              card: "rgba(255,255,255,0.7)",
              btn: "#ce93d8",
              accent: "#ab47bc",
            },
            mint: {
              bg: "#e0f7f1",
              text: "#333",
              card: "rgba(255,255,255,0.7)",
              btn: "#80cbc4",
              accent: "#26a69a",
            },
            coral: {
              bg: "#ffe0b2",
              text: "#333",
              card: "rgba(255,255,255,0.7)",
              btn: "#ff8a65",
              accent: "#ff7043",
            },
            sunset: {
              bg: "#ffe5d9",
              text: "#333",
              card: "rgba(255,255,255,0.7)",
              btn: "#ffab91",
              accent: "#ff8a65",
            },
            cream: {
              bg: "#fffde7",
              text: "#333",
              card: "rgba(255,255,255,0.7)",
              btn: "#fff176",
              accent: "#fdd835",
            },
            silver: {
              bg: "#f5f5f5",
              text: "#424242",
              card: "rgba(225,225,225,0.7)",
              btn: "#b0bec5",
              accent: "#90a4ae",
            },
            blue: {
              bg: "#e3f2fd",
              text: "#0d47a1",
              card: "rgba(225,225,225,0.7)",
              btn: "#2196f3",
              accent: "#0d47a1",
            },
            navy: {
              bg: "#e0e7ff",
              text: "#1e3a8a",
              card: "rgba(225,225,225,0.7)",
              btn: "#4f46e5",
              accent: "#1e40af",
            },
            teal: {
              bg: "#e0f7fa",
              text: "#006064",
              card: "rgba(225,225,225,0.7)",
              btn: "#26c6da",
              accent: "#00838f",
            },
          };
          function changeTheme() {
            const t = document.getElementById("themeSelector").value;
            const theme = themes[t];
            document.documentElement.style.setProperty("--bg", theme.bg);
            document.documentElement.style.setProperty("--text", theme.text);
            document.documentElement.style.setProperty("--card", theme.card);
            document.documentElement.style.setProperty("--btn", theme.btn);
            document.documentElement.style.setProperty(
              "--accent",
              theme.accent
            );
            document.getElementById("themePreview").style.backgroundColor =
              theme.btn;
          }
          changeTheme();

          // ===== Ø³Ø§Ø¹Øª Ùˆ ØªØ§Ø±ÛŒØ® =====
          function updateClock() {
            let now = new Date();
            let h = now.getHours(),
              m = now.getMinutes(),
              s = now.getSeconds();
            let ampm = h >= 12 ? "PM" : "AM";
            let hour = h % 12;
            hour = hour ? hour : 12;
            document.getElementById("clock").innerText = `${hour
              .toString()
              .padStart(2, "0")}:${m.toString().padStart(2, "0")}:${s
              .toString()
              .padStart(2, "0")} ${ampm}`;
            let persianDate = new Intl.DateTimeFormat("fa-IR", {
              year: "numeric",
              month: "numeric",
              day: "numeric",
              weekday: "long",
            }).format(now);
            document.getElementById(
              "currentDate"
            ).innerText = `ØªØ§Ø±ÛŒØ®: ${persianDate}`;
          }
          setInterval(updateClock, 1000);

          // ===== ØµÙØ­Ø§Øª Ùˆ Ù„ÛŒØ³Øªâ€ŒÙ‡Ø§ =====
          let currentType = null;
          function showPage(page) {
            document
              .querySelectorAll(".page")
              .forEach((p) => p.classList.remove("active"));
            document.getElementById(page).classList.add("active");
            updateCounts();
            updateChart();
            updateDailyChart();
          }
          function openModal(type) {
            currentType = type;
            document.getElementById("modalTitle").innerText = "Ø§ÙØ²ÙˆØ¯Ù† " + type;
            document.getElementById("modalBg").style.display = "flex";
          }
          function closeModal() {
            document.getElementById("modalBg").style.display = "none";
          }
          function saveItem() {
            let text = document.getElementById("modalInput").value;
            if (!text.trim()) return;
            let items = JSON.parse(localStorage.getItem(currentType)) || [];
            items.push({
              text: text,
              done: false,
              date: new Date().toDateString(),
            });
            localStorage.setItem(currentType, JSON.stringify(items));
            document.getElementById("modalInput").value = "";
            closeModal();
            loadAll();
          }
          function loadList(type) {
            let container = document.getElementById(type + "List");
            let items = JSON.parse(localStorage.getItem(type)) || [];
            container.innerHTML = "";
            items.forEach((item, i) => {
              container.innerHTML += `<div class="item ${
                item.done ? "done" : ""
              }" onclick="toggleDone('${type}',${i})">${
                item.text
              }<button onclick="deleteItem('${type}',${i});event.stopPropagation();" style="background:none;border:none;color:#ff7878">âœ–</button></div>`;
            });
          }
          function toggleDone(type, index) {
            let items = JSON.parse(localStorage.getItem(type)) || [];
            items[index].done = !items[index].done;
            localStorage.setItem(type, JSON.stringify(items));
            loadAll();
          }
          function deleteItem(type, index) {
            let items = JSON.parse(localStorage.getItem(type)) || [];
            items.splice(index, 1);
            localStorage.setItem(type, JSON.stringify(items));
            loadAll();
          }
          function updateCounts() {
            ["habit", "task", "challenge", "goal"].forEach((type) => {
              document.getElementById(type + "Count").innerText = (
                JSON.parse(localStorage.getItem(type)) || []
              ).length;
            });
          }

          // ===== Ù†Ù…ÙˆØ¯Ø§Ø± =====
          let chart = null,
            dailyChart = null;
          function updateChart() {
            const ctx = document
              .getElementById("progressChart")
              .getContext("2d");
            let habitDone = (
              JSON.parse(localStorage.getItem("habit")) || []
            ).filter((i) => i.done).length;
            let taskDone = (
              JSON.parse(localStorage.getItem("task")) || []
            ).filter((i) => i.done).length;
            let challengeDone = (
              JSON.parse(localStorage.getItem("challenge")) || []
            ).filter((i) => i.done).length;
            let goalDone = (
              JSON.parse(localStorage.getItem("goal")) || []
            ).filter((i) => i.done).length;
            let data = [habitDone, taskDone, challengeDone, goalDone];
            if (chart) chart.destroy();
            chart = new Chart(ctx, {
              type: "bar",
              data: {
                labels: ["Ø¹Ø§Ø¯Øªâ€ŒÙ‡Ø§", "Ú©Ø§Ø±Ù‡Ø§", "Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§", "Ø§Ù‡Ø¯Ø§Ù"],
                datasets: [
                  {
                    label: "ØªØ¹Ø¯Ø§Ø¯ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡",
                    data: data,
                    backgroundColor: "rgba(236,64,122,0.7)",
                  },
                ],
              },
              options: {
                responsive: true,
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true } },
              },
            });
          }
          function updateDailyChart() {
            const ctx = document.getElementById("dailyChart").getContext("2d");
            let items = ["habit", "task", "challenge", "goal"].map((type) => {
              let arr = JSON.parse(localStorage.getItem(type)) || [];
              return arr.filter(
                (i) =>
                  i.done &&
                  new Date(i.date).toDateString() === new Date().toDateString()
              ).length;
            });
            if (dailyChart) dailyChart.destroy();
            dailyChart = new Chart(ctx, {
              type: "line",
              data: {
                labels: ["Ø¹Ø§Ø¯Øª", "Ú©Ø§Ø±", "Ú†Ø§Ù„Ø´", "Ù‡Ø¯Ù"],
                datasets: [
                  {
                    label: "Ù¾ÛŒØ´Ø±ÙØª Ø§Ù…Ø±ÙˆØ²",
                    data: items,
                    borderColor: "rgba(236,64,122,0.8)",
                    backgroundColor: "rgba(236,64,122,0.3)",
                    fill: true,
                  },
                ],
              },
            });
          }
          // ===== ØªØ§ÛŒÙ…Ø± Ú©Ø§Ø±Ù‡Ø§ =====
          let taskTimer = null,
            taskTimeRemaining = 0;
          function startTaskTimer() {
            let t = prompt("Ù…Ø¯Øª Ø²Ù…Ø§Ù† ØªØ§ÛŒÙ…Ø± Ú©Ø§Ø±Ù‡Ø§ (Ø¯Ù‚ÛŒÙ‚Ù‡):");
            let mins = parseInt(t) || 0;
            if (mins <= 0) return;
            taskTimeRemaining = mins * 60;
            taskTimer = setInterval(() => {
              taskTimeRemaining--;
              document.getElementById("taskTimerDisplay").innerText =
                formatTime(taskTimeRemaining);
              if (taskTimeRemaining <= 0) {
                clearInterval(taskTimer);
                alert("ØªØ§ÛŒÙ…Ø± Ú©Ø§Ø±Ù‡Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!");
              }
            }, 1000);
          }
          function pauseTaskTimer() {
            if (taskTimer) {
              clearInterval(taskTimer);
              taskTimer = null;
            }
          }
          function resumeTaskTimer() {
            if (taskTimeRemaining > 0 && !taskTimer) {
              taskTimer = setInterval(() => {
                taskTimeRemaining--;
                document.getElementById("taskTimerDisplay").innerText =
                  formatTime(taskTimeRemaining);
                if (taskTimeRemaining <= 0) {
                  clearInterval(taskTimer);
                  alert("ØªØ§ÛŒÙ…Ø± Ú©Ø§Ø±Ù‡Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!");
                }
              }, 1000);
            }
          }
          function resetTaskTimer() {
            pauseTaskTimer();
            taskTimeRemaining = 0;
            document.getElementById("taskTimerDisplay").innerText = "00:00:00";
          }

          // ===== Ù…Ø¯ÛŒØªÛŒØ´Ù† =====
          let medTimer = null,
            medTimeRemaining = 0,
            medAudio = null,
            medInterval = null;
          const medSounds = {
            rain: "https://sedatoseda.com/wp-content/uploads/rain1.mp3",
            forest:
              "https://sedatoseda.com/wp-content/uploads/jungle_choco-01-5864-1.mp3",
            sea: "https://sedatoseda.com/wp-content/uploads/small-waves-onto-the-sand.mp3",
            autumn:
              "https://sedatoseda.com/wp-content/uploads/oak-grove-dry-leaves-autumn-9520.mp3",
          };
          function formatTime(sec) {
            let h = Math.floor(sec / 3600),
              m = Math.floor((sec % 3600) / 60),
              s = sec % 60;
            return `${h.toString().padStart(2, "0")}:${m
              .toString()
              .padStart(2, "0")}:${s.toString().padStart(2, "0")}`;
          }
          function startMeditation() {
            let mins = parseInt(document.getElementById("medTime").value) || 0;
            if (mins <= 0) return;
            medTimeRemaining = mins * 60;
            if (medAudio) {
              medAudio.pause();
              medAudio = null;
            }
            let selectedSound = document.getElementById("medSound").value;
            medAudio = new Audio(medSounds[selectedSound]);
            medAudio.loop = true;
            medAudio.play();
            document.getElementById("medStatus").innerText = "Ø¯Ø± Ø­Ø§Ù„ Ù…Ø¯ÛŒØªÛŒØ´Ù†";
            medInterval = setInterval(() => {
              medTimeRemaining--;
              document.getElementById("medTimerDisplay").innerText =
                formatTime(medTimeRemaining);
              if (medTimeRemaining <= 0) {
                clearInterval(medInterval);
                medAudio.pause();
                alert("Ù…Ø¯ÛŒØªÛŒØ´Ù† Ø´Ù…Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!");
                document.getElementById("medStatus").innerText = "ØªÙ…Ø§Ù… Ø´Ø¯";
              }
            }, 1000);
          }
          function pauseMeditation() {
            if (medInterval) {
              clearInterval(medInterval);
              medInterval = null;
              document.getElementById("medStatus").innerText = "ØªÙˆÙ‚Ù";
              if (medAudio) medAudio.pause();
            }
          }
          function fadeIn(
            audio,
            targetVolume = 0.5,
            step = 0.01,
            interval = 50
          ) {
            audio.volume = 0;
            audio.play();
            let fadeInterval = setInterval(() => {
              if (audio.volume + step >= targetVolume) {
                audio.volume = targetVolume;
                clearInterval(fadeInterval);
              } else audio.volume += step;
            }, interval);
          }
          function resumeMeditation() {
            if (!medInterval && medTimeRemaining > 0) {
              if (medAudio) medAudio.play();
              medInterval = setInterval(() => {
                medTimeRemaining--;
                document.getElementById("medTimerDisplay").innerText =
                  formatTime(medTimeRemaining);
                if (medTimeRemaining <= 0) {
                  clearInterval(medInterval);
                  medAudio.pause();
                  alert("Ù…Ø¯ÛŒØªÛŒØ´Ù† Ø´Ù…Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!");
                  document.getElementById("medStatus").innerText = "ØªÙ…Ø§Ù… Ø´Ø¯";
                }
              }, 1000);
              document.getElementById("medStatus").innerText = "Ø¯Ø± Ø­Ø§Ù„ Ù…Ø¯ÛŒØªÛŒØ´Ù†";
            }
          }
          function resetMeditation() {
            pauseMeditation();
            medTimeRemaining = 0;
            document.getElementById("medTimerDisplay").innerText = "00:00:00";
            document.getElementById("medStatus").innerText = "";
          }
          // ===== Ø¬Ù…Ù„Ù‡ Ø±ÙˆØ² =====
          const quotes = [
            "Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø² Ø¢Ù†Ù Ú©Ø³ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.",
            "Ù‡Ø± Ø±ÙˆØ² ÛŒÚ© ÙØ±ØµØª Ø¬Ø¯ÛŒØ¯ Ø§Ø³Øª.",
            "Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ Ù‡Ù…ÛŒÙ† Ø­Ø§Ù„Ø§Ø³Øª.",
            "ØªÙˆ Ø§Ø² Ú†ÛŒØ²ÛŒ Ú©Ù‡ ÙÚ©Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒ Ù‚ÙˆÛŒâ€ŒØªØ±ÛŒ.",
            "Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú©ØŒ ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø²Ø±Ú¯ Ù…ÛŒâ€ŒØ³Ø§Ø²Ù†Ø¯.",
          ];
          function loadQuote() {
            document.getElementById("dailyQuote").innerText =
              quotes[Math.floor(Math.random() * quotes.length)];
          }

          // ===== Ù„ÙˆØ¯ Ú©Ø§Ù…Ù„ =====
          function loadAll() {
            ["habit", "task", "challenge", "goal"].forEach(loadList);
            updateCounts();
            updateChart();
            updateDailyChart();
            loadQuote();
          }
          loadAll();
        </script>
      </body>
    </html>
  </body>
</html>
